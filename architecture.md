# ğŸ—ï¸ Roguelike TCG v2 - åˆ†å±¤æ¶æ§‹è¨­è¨ˆ

## ğŸ“Š æ•´é«”æ¶æ§‹æ¨¹ç‹€åœ–

```
ğŸ“ src/
â”œâ”€â”€ ğŸ® main.js                     # ä¸»å…¥å£ (è¼•é‡)
â”œâ”€â”€ ğŸ¯ core/                       # æ ¸å¿ƒç³»çµ±å±¤ (è¼•é‡)
â”‚   â”œâ”€â”€ GameController.js          # éŠæˆ²æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ GameState.js               # ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ EventBus.js                # äº‹ä»¶ç³»çµ±
â”‚   â””â”€â”€ SystemRegistry.js          # ç³»çµ±è¨»å†Šå™¨
â”œâ”€â”€ ğŸƒ systems/                    # éŠæˆ²ç³»çµ±å±¤ (ä¸­ç­‰)
â”‚   â”œâ”€â”€ CombatSystem.js            # æˆ°é¬¥ç³»çµ±
â”‚   â”œâ”€â”€ MapSystem.js               # åœ°åœ–ç³»çµ±
â”‚   â”œâ”€â”€ RewardSystem.js            # çå‹µç³»çµ±
â”‚   â””â”€â”€ SaveSystem.js              # å­˜æª”ç³»çµ±
â”œâ”€â”€ ğŸ¨ ui/                         # UIå±•ç¤ºå±¤ (è¼•é‡)
â”‚   â”œâ”€â”€ UIManager.js               # UIç®¡ç†å™¨
â”‚   â”œâ”€â”€ components/                # UIçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Hand.js
â”‚   â”‚   â”œâ”€â”€ Combat.js
â”‚   â”‚   â””â”€â”€ Map.js
â”‚   â””â”€â”€ animations/                # å‹•ç•«æ•ˆæœ
â”‚       â””â”€â”€ CardAnimations.js
â”œâ”€â”€ ğŸƒ cards/                      # å¡ç‰Œé‚è¼¯å±¤ (é‡é‡)
â”‚   â”œâ”€â”€ CardRegistry.js            # å¡ç‰Œè¨»å†Šå™¨
â”‚   â”œâ”€â”€ collections/               # å¡ç‰Œé›†åˆ
â”‚   â”‚   â”œâ”€â”€ starter/               # èµ·å§‹å¡ç‰Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ Strike.js
â”‚   â”‚   â”‚   â””â”€â”€ Defend.js
â”‚   â”‚   â”œâ”€â”€ common/                # æ™®é€šå¡ç‰Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ FireBolt.js
â”‚   â”‚   â”‚   â””â”€â”€ Heal.js
â”‚   â”‚   â”œâ”€â”€ rare/                  # ç¨€æœ‰å¡ç‰Œ
â”‚   â”‚   â”‚   â””â”€â”€ Lightning.js
â”‚   â”‚   â””â”€â”€ legendary/             # å‚³èªªå¡ç‰Œ
â”‚   â”‚       â””â”€â”€ DragonBreath.js
â”‚   â””â”€â”€ CardFactory.js             # å¡ç‰Œå·¥å» 
â”œâ”€â”€ âš¡ effects/                     # æ•ˆæœç³»çµ±å±¤ (ä¸­é‡)
â”‚   â”œâ”€â”€ EffectRegistry.js          # æ•ˆæœè¨»å†Šå™¨
â”‚   â”œâ”€â”€ keywords/                  # é—œéµå­—é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ Damage.js              # å‚·å®³é—œéµå­—
â”‚   â”‚   â”œâ”€â”€ Heal.js                # æ²»ç™‚é—œéµå­—
â”‚   â”‚   â”œâ”€â”€ Draw.js                # æŠ½ç‰Œé—œéµå­—
â”‚   â”‚   â”œâ”€â”€ Block.js               # æ ¼æ“‹é—œéµå­—
â”‚   â”‚   â”œâ”€â”€ Poison.js              # ä¸­æ¯’é—œéµå­—
â”‚   â”‚   â””â”€â”€ Burn.js                # ç‡ƒç‡’é—œéµå­—
â”‚   â””â”€â”€ EffectProcessor.js         # æ•ˆæœè™•ç†å™¨
â”œâ”€â”€ ğŸ“Š data/                       # æ•¸æ“šé…ç½®å±¤ (ç´”æ•¸æ“š)
â”‚   â”œâ”€â”€ balance/                   # å¹³è¡¡åƒæ•¸
â”‚   â”‚   â”œâ”€â”€ CardBalance.js         # å¡ç‰Œæ•¸å€¼
â”‚   â”‚   â”œâ”€â”€ CombatBalance.js       # æˆ°é¬¥æ•¸å€¼
â”‚   â”‚   â””â”€â”€ ProgressBalance.js     # é€²åº¦æ•¸å€¼
â”‚   â”œâ”€â”€ gameData/                  # éŠæˆ²æ•¸æ“š
â”‚   â”‚   â”œâ”€â”€ Enemies.js             # æ•µäººæ•¸æ“š
â”‚   â”‚   â”œâ”€â”€ Events.js              # äº‹ä»¶æ•¸æ“š
â”‚   â”‚   â””â”€â”€ Relics.js              # éºç‰©æ•¸æ“š
â”‚   â””â”€â”€ constants/                 # å¸¸é‡å®šç¾©
â”‚       â”œâ”€â”€ GameConstants.js       # éŠæˆ²å¸¸é‡
â”‚       â””â”€â”€ UIConstants.js         # UIå¸¸é‡
â””â”€â”€ ğŸ› ï¸ utils/                      # å·¥å…·å‡½æ•¸å±¤ (ç´”å‡½æ•¸)
    â”œâ”€â”€ Random.js                  # éš¨æ©Ÿæ•¸å·¥å…·
    â”œâ”€â”€ ArrayUtils.js              # é™£åˆ—å·¥å…·
    â””â”€â”€ Validation.js              # é©—è­‰å·¥å…·
```

## ğŸ”„ ä¾è³´æµå‘åœ–

```
ä¸»é‚è¼¯å±¤ (main.js, GameController.js)
    â†“ å¼•ç”¨
ç³»çµ±å±¤ (CombatSystem.js, MapSystem.js)
    â†“ å¼•ç”¨
å¡ç‰Œé‚è¼¯å±¤ (Strike.js, FireBolt.js)
    â†“ å¼•ç”¨
é—œéµå­—å±¤ (Damage.js, Heal.js)
    â†“ å¼•ç”¨
åƒæ•¸å±¤ (CardBalance.js, CombatBalance.js)
```

## ğŸ“‹ å„å±¤è·è²¬èªªæ˜

### 1. ä¸»é‚è¼¯å±¤ (Ultra Light - < 50 lines each)
- **è·è²¬**: çµ„è£ç³»çµ±ã€å•Ÿå‹•éŠæˆ²ã€å”èª¿èª¿åº¦
- **ç‰¹é»**: æ¥µè¼•é‡ï¼Œä¸»è¦æ˜¯å¼•ç”¨å’Œåˆå§‹åŒ–
- **ä¿®æ”¹é »ç‡**: å¾ˆå°‘

### 2. ç³»çµ±å±¤ (Light - 100-200 lines each)
- **è·è²¬**: å¯¦ç¾æ ¸å¿ƒéŠæˆ²æ©Ÿåˆ¶
- **ç‰¹é»**: é€šç”¨é‚è¼¯ï¼Œä¸åŒ…å«å…·é«”å¡ç‰Œç´°ç¯€
- **ä¿®æ”¹é »ç‡**: å¤§ç‰ˆæœ¬æ›´æ–°æ™‚

### 3. å¡ç‰Œé‚è¼¯å±¤ (Heavy - å€‹æ•¸å¤š)
- **è·è²¬**: å®šç¾©å…·é«”å¡ç‰Œè¡Œç‚º
- **ç‰¹é»**: æ•¸é‡æœ€å¤šçš„å±¤ç´šï¼Œæ¯å¼µå¡ä¸€å€‹æ–‡ä»¶
- **ä¿®æ”¹é »ç‡**: ç¶“å¸¸ï¼ˆæ–°å¢å¡ç‰Œï¼‰

### 4. é—œéµå­—å±¤ (Medium - 20-100 lines each)
- **è·è²¬**: å¯¦ç¾å¯å¾©ç”¨çš„æ•ˆæœé‚è¼¯
- **ç‰¹é»**: é«˜å¾©ç”¨æ€§ï¼Œè¢«å¤šå¼µå¡ç‰Œä½¿ç”¨
- **ä¿®æ”¹é »ç‡**: ä¸­ç­‰ï¼ˆæ–°æ©Ÿåˆ¶æ™‚ï¼‰

### 5. åƒæ•¸å±¤ (Pure Data)
- **è·è²¬**: å­˜æ”¾æ‰€æœ‰å¯èª¿æ•¸å€¼
- **ç‰¹é»**: ç´”æ•¸æ“šï¼Œç„¡é‚è¼¯
- **ä¿®æ”¹é »ç‡**: ç¶“å¸¸ï¼ˆå¹³è¡¡èª¿æ•´ï¼‰

## ğŸ¯ æ“´å±•å ´æ™¯ç¤ºä¾‹

### å ´æ™¯1: æ–°å¢å¡ç‰Œ "ç«ç„°ç®­"
```javascript
// åªéœ€æ–°å¢ä¸€å€‹æ–‡ä»¶: cards/common/FlameArrow.js
// å¼•ç”¨ç¾æœ‰é—œéµå­—: Damage.js, Burn.js
// ç„¡éœ€ä¿®æ”¹å…¶ä»–æ–‡ä»¶
```

### å ´æ™¯2: æ–°å¢é—œéµå­— "å†°å‡"
```javascript
// æ–°å¢: effects/keywords/Freeze.js
// ä¿®æ”¹: éœ€è¦å†°å‡æ•ˆæœçš„å¡ç‰Œæ–‡ä»¶
// ç„¡éœ€ä¿®æ”¹: ä¸»é‚è¼¯ã€ç³»çµ±å±¤
```

### å ´æ™¯3: å¹³è¡¡èª¿æ•´
```javascript
// åªä¿®æ”¹: data/balance/CardBalance.js
// ä¾‹å¦‚: FLAME_ARROW_DAMAGE: 8 â†’ 10
// ç„¡éœ€ä¿®æ”¹: ä»»ä½•é‚è¼¯æ–‡ä»¶
```

## ğŸ—ï¸ å¯¦éš›æ–‡ä»¶å¤§å°é ä¼°

| å±¤ç´š | æ–‡ä»¶æ•¸é‡ | å–®æ–‡ä»¶è¡Œæ•¸ | ç¸½è¡Œæ•¸é ä¼° |
|------|----------|------------|------------|
| ä¸»é‚è¼¯å±¤ | 5 | 20-50 | 250 |
| ç³»çµ±å±¤ | 8 | 100-200 | 1200 |
| UIå±¤ | 12 | 50-150 | 1200 |
| å¡ç‰Œå±¤ | **200+** | 15-30 | **6000** |
| é—œéµå­—å±¤ | 30 | 20-100 | 1500 |
| åƒæ•¸å±¤ | 10 | 50-200 | 1000 |
| **ç¸½è¨ˆ** | **265+** | - | **11150** |

## ğŸ”§ é–‹ç™¼å·¥ä½œæµç¨‹

### æ—¥å¸¸æ–°å¢å¡ç‰Œ (90%çš„å·¥ä½œ)
1. åœ¨ `cards/collections/` ä¸­æ–°å¢å¡ç‰Œæ–‡ä»¶
2. å¼•ç”¨æ‰€éœ€é—œéµå­—
3. åœ¨ `CardRegistry.js` ä¸­è¨»å†Š
4. å®Œæˆï¼

### æ–°æ©Ÿåˆ¶é–‹ç™¼ (5%çš„å·¥ä½œ)
1. åœ¨ `effects/keywords/` ä¸­æ–°å¢é—œéµå­—
2. åœ¨ `EffectRegistry.js` ä¸­è¨»å†Š
3. ä¿®æ”¹ä½¿ç”¨è©²æ©Ÿåˆ¶çš„å¡ç‰Œ
4. æ›´æ–°å¹³è¡¡åƒæ•¸

### å¹³è¡¡èª¿æ•´ (5%çš„å·¥ä½œ)
1. ä¿®æ”¹ `data/balance/` ä¸­çš„æ•¸å€¼
2. æ¸¬è©¦
3. å®Œæˆï¼

## ğŸ¨ ä»£ç¢¼é¢¨æ ¼ç´„å®š

- ä¸»é‚è¼¯å±¤: åªåšçµ„è£ï¼Œä¸å¯«æ¥­å‹™é‚è¼¯
- ç³»çµ±å±¤: é€šç”¨æ©Ÿåˆ¶ï¼Œä¸ä¾è³´å…·é«”å¡ç‰Œ
- å¡ç‰Œå±¤: ä¸€å¼µå¡ä¸€å€‹æ–‡ä»¶ï¼Œå‘½åæ¸…æ™°
- é—œéµå­—å±¤: ç´”å‡½æ•¸ï¼Œé«˜å¾©ç”¨æ€§
- åƒæ•¸å±¤: ç´”æ•¸æ“šå°è±¡ï¼Œä¾¿æ–¼èª¿æ•´

é€™ç¨®æ¶æ§‹ç¢ºä¿äº†ï¼š
- âœ… **æ–°å¢å¡ç‰Œæ™‚**: åªéœ€è¦å‹•å¡ç‰Œå±¤
- âœ… **æ–°æ©Ÿåˆ¶æ™‚**: åªéœ€è¦å‹•é—œéµå­—å±¤  
- âœ… **å¹³è¡¡èª¿æ•´**: åªéœ€è¦å‹•åƒæ•¸å±¤
- âœ… **ä»£ç¢¼é‡ç”¨**: é—œéµå­—è¢«å¤šå¼µå¡å¾©ç”¨
- âœ… **æ˜“æ–¼ç¶­è­·**: å„å±¤è·è²¬æ¸…æ™°åˆ†æ˜